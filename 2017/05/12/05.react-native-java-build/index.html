<!DOCTYPE html>
<html lang="en">
<head>
     
<meta charset="UTF-8">      
<meta name="viewport" content="initial-scale=1.0,user-scalable=no,minimal-ui">  
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">  

    <meta name="keywords" content="yimo,易墨,一个爱折腾的程序猿">


    <meta name="description" content="一个叫做易墨的程序猿使用node-thinkjs构建的个人博客">

<title>从零开始在win10系统搭建react-native开发环境 | AncientWind</title>
<link rel="stylesheet" type="text/css" href="/static/css/animate.min.css">
<link rel="stylesheet" href="/static/css/style.min.css"></link>
 <!--<meta name="description" content="win10 react-native环境搭建  首先不得不先吐槽一下自己，一个坑总是踩很多次，且乐此不疲。咋办? 写博客记录记录呗。                 零、记录的点 Java环境的下载与配置  Android环境的下载与配置  Node环境的下载与配置  创建第一个react-native应用     最终能够达到的目的：在手机上能够运行第一个React-Native应用~ 以备后用">
<meta property="og:type" content="article">
<meta property="og:title" content="从零开始在win10系统搭建react-native开发环境">
<meta property="og:url" content="http://hexo.yimo.link/2017/05/12/05.react-native-java-build/index.html">
<meta property="og:site_name" content="AncientWind">
<meta property="og:description" content="win10 react-native环境搭建  首先不得不先吐槽一下自己，一个坑总是踩很多次，且乐此不疲。咋办? 写博客记录记录呗。                 零、记录的点 Java环境的下载与配置  Android环境的下载与配置  Node环境的下载与配置  创建第一个react-native应用     最终能够达到的目的：在手机上能够运行第一个React-Native应用~ 以备后用">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/f5d0a6f2-9324-4899-9378-0da577a5b33d.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/d5996b21-1403-4e67-ba41-8e647ea2cc2b.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/407332aa-a5ee-40da-aefa-1de323e107fd.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/e47c55bd-0f90-443c-bf16-c8860c8b726e.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/a37b209b-56ba-4329-a044-a55429ef75b8.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/d6a81e25-2b2c-40a0-bd85-dd70644f5de6.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/d63ba276-04c3-44df-bb6e-fd6b41972e1a.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/2c7e4384-a916-42af-9cff-51701bd7c882.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/6130f787-3bf3-437b-a353-746550210595.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/7bf85be0-1f5a-4ec2-be7a-ba93e2740b8f.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/adf94677-334f-4832-aed5-46f9d1cbac08.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/5772db37-212f-4d62-b85f-9182d228dab7.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/495d3c84-c3e8-49d3-9bc2-c24f5cd2e27d.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/bbc9f9bd-a116-4e9f-a1cc-f439cd7266cc.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/4ea624fe-1062-452e-b0c2-6e91b84202b1.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/835cf850-602f-47c7-8d67-4bb5bb0225c9.png">
<meta property="og:image" content="https://dn-coding-net-production-pp.qbox.me/180e6277-28ea-4f81-afdb-c4d379db529b.png">
<meta property="og:updated_time" content="2017-05-12T12:57:47.422Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="从零开始在win10系统搭建react-native开发环境">
<meta name="twitter:description" content="win10 react-native环境搭建  首先不得不先吐槽一下自己，一个坑总是踩很多次，且乐此不疲。咋办? 写博客记录记录呗。                 零、记录的点 Java环境的下载与配置  Android环境的下载与配置  Node环境的下载与配置  创建第一个react-native应用     最终能够达到的目的：在手机上能够运行第一个React-Native应用~ 以备后用">
<meta name="twitter:image" content="https://dn-coding-net-production-pp.qbox.me/f5d0a6f2-9324-4899-9378-0da577a5b33d.png">-->
  
  
    <link rel="icon" href="/static/imgs/favicon.ico">
  
</head>
<body>
    <header class="ymheader fadeInDown animated" id="ymheader">
    <div class="bounceInDown animated">
        <a href="/">
                    <img src="/static/imgs/logo.png" class="logo" />
                </a>
    </div>
    <nav class="ymmenu bounceInDown animated">
        
        <div class="menu dao2_sm32"><a href="/">博客首页</a></div>
        
        <div class="menu dao2_sm32"><a href="https://tools.yimo.link/">个人工具</a></div>
        
        <div class="menu dao2_sm32"><a href="http://app.yimo.link/">私人定制</a></div>
        
        <div class="menu dao2_sm32"><a href="http://www.yimo.link/msg">留言板</a></div>
        
    </nav>
</header>

    <section class="ymcontent " id="ymcontent">
        <article id="contentrwbg">
            <img class="oneimg" src="/static/imgs/bg_content2.png" />
        </article>
        <article class="ymrightcontent  fadeInUp animated" id="ymrightcontent">
            <div class="maincontent">
                <h1 class="arttitle contenttit">从零开始在win10系统搭建react-native开发环境</h1>
                <p class="artdesc">
                    
                    <span>创建时间：2017-05-12 20:52:57</span>
                </p>
                <div class="artcontent">
                   
                    <h1 id="win10-react-native环境搭建"><a href="#win10-react-native环境搭建" class="headerlink" title="win10 react-native环境搭建"></a>win10 react-native环境搭建</h1><hr>
<blockquote>
<p>首先不得不先吐槽一下自己，一个坑总是踩很多次，且乐此不疲。<br>咋办? 写博客记录记录呗。               </p>
</blockquote>
<h2 id="零、记录的点"><a href="#零、记录的点" class="headerlink" title="零、记录的点"></a>零、记录的点</h2><ol>
<li><p>Java环境的下载与配置</p>
</li>
<li><p>Android环境的下载与配置</p>
</li>
<li><p>Node环境的下载与配置</p>
</li>
<li><p>创建第一个react-native应用  </p>
</li>
</ol>
<p>最终能够达到的目的：在手机上能够运行第一个React-Native应用~</p>
<p>以备后用，已将安装包上传到了<a href="http://pan.baidu.com/s/1dFgLPuT" target="_blank" rel="external">网盘</a> 密码：bqbc              </p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/f5d0a6f2-9324-4899-9378-0da577a5b33d.png" alt="图片">        </p>
<h2 id="一、Java环境的下载与配置"><a href="#一、Java环境的下载与配置" class="headerlink" title="一、Java环境的下载与配置"></a>一、Java环境的下载与配置</h2><p>记录下Java里面的三个<a href="http://blog.csdn.net/songkai320/article/details/51819046" target="_blank" rel="external">术语理解</a>    </p>
<h4 id="JDK是什么？"><a href="#JDK是什么？" class="headerlink" title="JDK是什么？"></a>JDK是什么？</h4><blockquote>
<p>答曰：JDK乃【Java开发工具包】 (Java Development Kit ) 的缩写,<br>是一种用于构建在 Java 平台上发布的应用程序、applet 和组件的开发环境</p>
</blockquote>
<h3 id="JRE是什么？"><a href="#JRE是什么？" class="headerlink" title="JRE是什么？"></a>JRE是什么？</h3><blockquote>
<p>答曰：JRE乃【Java运行环境】(Java Runtime Environment)的缩写,<br>其包含JVM标准实现及Java核心类库</p>
</blockquote>
<h3 id="JVM是什么？"><a href="#JVM是什么？" class="headerlink" title="JVM是什么？"></a>JVM是什么？</h3><blockquote>
<p>答曰：JVM是【Java虚拟机】(Java Virtual Machine)的缩写</p>
</blockquote>
<h3 id="下载安装配置JDK"><a href="#下载安装配置JDK" class="headerlink" title="下载安装配置JDK"></a>下载安装配置JDK</h3><ol>
<li>到<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="external">官网</a> 或者<a href="http://jdk.android-studio.org/" target="_blank" rel="external">android-studio</a>下载JDK                </li>
<li>安装JDK，我安装到的<code>D:\Software\JavaJdk</code> </li>
<li>必须得配置环境变量滴<br> ①java_home:<code>D:\Software\JavaJdk</code><br> ②classpath(.;开头):<code>.;%java_home%\lib\dt.jar;%java_home%\lib\tools.jar</code><br> ③追加path变量的值:<code>;%java_home%\bin</code><br><img src="https://dn-coding-net-production-pp.qbox.me/d5996b21-1403-4e67-ba41-8e647ea2cc2b.png" alt="图片"> </li>
</ol>
<h2 id="二、Android环境的下载与配置"><a href="#二、Android环境的下载与配置" class="headerlink" title="二、Android环境的下载与配置"></a>二、Android环境的下载与配置</h2><h3 id="下载Android-SDK"><a href="#下载Android-SDK" class="headerlink" title="下载Android SDK"></a>下载Android SDK</h3><hr>
<p>到<a href="http://tools.android-studio.org/index.php/sdk" target="_blank" rel="external">android-studio</a>下载SDK。<br>运行installer_r24.4.1-windows.exe安装、或zip解压出来的<code>SDK Manager.exe</code>        </p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/407332aa-a5ee-40da-aefa-1de323e107fd.png" alt="图片"> </p>
<p>然后我安装了以下这些包(我的react-native版本是0.40.0)</p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/e47c55bd-0f90-443c-bf16-c8860c8b726e.png" alt="图片">     </p>
<h3 id="SDKManager使用说明："><a href="#SDKManager使用说明：" class="headerlink" title="SDKManager使用说明："></a>SDKManager使用说明：</h3><hr>
<p>被镜像坑了，所以不推荐镜像，直接修改hosts文件就成—&gt;<a href="https://laod.cn" target="_blank" rel="external">去找最新的hosts</a><br>镜像地址—&gt;<a href="http://tools.android-studio.org/index.php/proxy" target="_blank" rel="external">去找最新的镜像地址</a>    </p>
<h3 id="镜像使用说明"><a href="#镜像使用说明" class="headerlink" title="镜像使用说明"></a>镜像使用说明</h3><hr>
<p>使用镜像安装不了23.0.1的同学趁早换hosts的方式或者挂vpn。     </p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/a37b209b-56ba-4329-a044-a55429ef75b8.png" alt="图片">     </p>
<p>科学上网还是得备个vpn呐~~~     </p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/d6a81e25-2b2c-40a0-bd85-dd70644f5de6.png" alt="图片"> </p>
<h3 id="SDK包下好了，接下来就配置系统环境变量吧"><a href="#SDK包下好了，接下来就配置系统环境变量吧" class="headerlink" title="SDK包下好了，接下来就配置系统环境变量吧"></a>SDK包下好了，接下来就配置系统环境变量吧</h3><hr>
<p>①ANDROID_HOME:<code>D:\Software\JavaAndroidSdk</code><br>②追加path变量的值:<code>%ANDROID_HOME%\platforms\;%ANDROID_HOME%\platform-tools\;%ANDROID_HOME%\tools\;%ANDROID_HOME%;</code><br>我的Path图</p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/d63ba276-04c3-44df-bb6e-fd6b41972e1a.png" alt="图片"> </p>
<h3 id="测试Java环境，Android环境"><a href="#测试Java环境，Android环境" class="headerlink" title="测试Java环境，Android环境"></a>测试Java环境，Android环境</h3><hr>
<p><img src="https://dn-coding-net-production-pp.qbox.me/2c7e4384-a916-42af-9cff-51701bd7c882.png" alt="图片">     </p>
<p>失败自行回退检查~~</p>
<h2 id="三、安装node-js"><a href="#三、安装node-js" class="headerlink" title="三、安装node.js"></a>三、安装node.js</h2><p>node官网历史版本修改下载链接的值就能下载历史版本了<br>如：我使用的是版本是<a href="https://nodejs.org/dist/v6.2.0/node-v6.2.0-x64.msi" target="_blank" rel="external">V6.2.0</a><br>然后就是node的一些设置了<br><code>npm config set prefix &quot;D:\Program Files\nodejs\node_global</code>  //设置全局包目录<br><code>npm config set cache &quot;D:\Program Files\nodejs\node_cache</code>    //设置缓存目录<br><code>npm config set registry https://registry.npm.taobao.org</code>     //设置淘宝镜像</p>
<p>之前有安装过node，卸载旧版重新安装到之前的目录就==升级了<br>npm升级命令<code>npm update</code></p>
<h2 id="四、创建第一个在手机上运行的react-native应用"><a href="#四、创建第一个在手机上运行的react-native应用" class="headerlink" title="四、创建第一个在手机上运行的react-native应用"></a>四、创建第一个在手机上运行的react-native应用</h2><ol>
<li>启动CMD定位到开发目录：例<code>F:\ReactDemo</code></li>
<li>全局安装<a href="https://github.com/facebook/react-native" target="_blank" rel="external"><code>npm install -g react-native-cli</code></a></li>
<li>初始化一个项目：<code>react-native init yimoapp</code></li>
<li><code>cd yimoapp</code></li>
<li>运行packager：<code>react-native start</code>  <blockquote>
<p>如果你碰到了ERROR Watcher took too long to load的报错，请尝试将这个文件中的MAX_WAIT_TIME值改得更大一些 (文件在node_modules/react-native/目录下)。<br>成功运行这时候可以用浏览器访问<bdi>http//localhost:8081/index.android.bundle?platform=android</bdi>查看服务端是否已成功启动</p>
</blockquote>
</li>
<li>真机运行,使用usb连接手机，开启USB调试权限</li>
<li>查看连接的设备：<code>adb devices</code><br>  <img src="https://dn-coding-net-production-pp.qbox.me/6130f787-3bf3-437b-a353-746550210595.png" alt="图片"> </li>
<li><p><code>react-native run-android</code>构建工程并自动安装到手机</p>
<blockquote>
<p>不要慌，先做点准备工作。<a href="http://gradle.android-studio.org/" target="_blank" rel="external">手动下载gradle-2.4-all.zip</a>到本地<br>修改 <code>F:\ReactDemo\yimoapp\android\gradle\wrapper\gradle-wrapper.properties</code>文件的<code>distributionUrl</code>配置为[本地的gradle-2.4-all.zip路径]以使其可离线下载<br><img src="https://dn-coding-net-production-pp.qbox.me/7bf85be0-1f5a-4ec2-be7a-ba93e2740b8f.png" alt="gradle-2.4-all配置图"><br><img src="https://dn-coding-net-production-pp.qbox.me/adf94677-334f-4832-aed5-46f9d1cbac08.png" alt="成功离线下载"> </p>
</blockquote>
</li>
<li><p>包安装得差不多的时候会提示你安装应用<br> <img src="https://dn-coding-net-production-pp.qbox.me/5772db37-212f-4d62-b85f-9182d228dab7.png" alt="图片"><br> 可能会有一个这样的错误，奇怪的是第一次安装有,这一次安装就没有遇到了。</p>
<p>  <img src="https://dn-coding-net-production-pp.qbox.me/495d3c84-c3e8-49d3-9bc2-c24f5cd2e27d.png" alt="图片"><br> 将android/build.gradle文件中的 classpath ‘com.android.tools.build:gradle:1.3.1’ 改为 classpath ‘com.android.tools.build:gradle:1.2.3’ 。猜测是插件包不兼容导致。</p>
</li>
<li><p>解决白屏问题<br>找到并开启应用的悬浮窗权限,以mui8.1为例，设置-&gt;授权管理-&gt;应用权限管理-&gt;yimoapp-&gt;勾选显示浮窗权限<br>然后再次打开yimoapp。我去。这次来个大红色的错误了</p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/bbc9f9bd-a116-4e9f-a1cc-f439cd7266cc.png" alt="图片"> </p>
<p>咋办。摇一摇说不定有奇迹</p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/4ea624fe-1062-452e-b0c2-6e91b84202b1.png" alt="图片"><br><img src="https://dn-coding-net-production-pp.qbox.me/835cf850-602f-47c7-8d67-4bb5bb0225c9.png" alt="图片"> </p>
<p>在回退刷新前。我去改了改<code>index.android.js</code>，好了回到页面摇一摇然后刷新    </p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/180e6277-28ea-4f81-afdb-c4d379db529b.png" alt="图片">         </p>
</li>
</ol>
<h2 id="总结与收获"><a href="#总结与收获" class="headerlink" title="总结与收获"></a>总结与收获</h2><p>总结是很有必要的。<br>有很多问题是在Java和Android环境没有弄好的情况下会出现的。<br>参考文章：</p>
<ol>
<li><a href="http://www.tuicool.com/articles/26byiuZ" target="_blank" rel="external">http://www.tuicool.com/articles/26byiuZ</a> 这里面的错我也都遇到过~~</li>
<li><a href="http://www.cnblogs.com/suxun/p/5220564.html" target="_blank" rel="external">http://www.cnblogs.com/suxun/p/5220564.html</a> 有配置模拟器的</li>
</ol>
<p>一天就这样结束，一天就这样开始。</p>

                    
                </div>
                <div class="listfooter">
                </div>
            </div>
            <div class="artfooter">
                
                <div id="SOHUCS" sid="从零开始在win10系统搭建react-native开发环境"></div>
                
            </div>
        </article>  
        <article id="ymsidenav" class="ymsidenav fadeInDown animated">
            <div class="search">
                <form method="get" action="/search">
                    <input type="search" name="key" class="searchtxt" placeholder="我就看看..." />
                    <input type="submit" style="display:none" />
                </form>
            </div>
            
<div id="tagscloud">
        
    <a href="/tags/hexo" class="tagc1">hexo</a>
        
</div>
                <div class="listtit">
    <span class="txt">友情链接</span>
</div>
<ul class="ymlistyle">
    
        
    <li>
        <a href="http://www.yimo.link/" class="litit">易墨博客</a>
    
    </li>
        
</ul>
        </article>
    </section>
    <article id="ymgotop">  
    <a href="javascript:window.scroll(0,0);">
        <img src="/static/imgs/gotop.png" />
    </a>    
</article>
        <footer class="ymfooter fadeInUp animated" id="ymfooter">
    <a href="#" class="shake shake-horizontal">一下午弄出来的~就这样~ By 易墨</a>
</footer>
        
    <script charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/changyan.js" ></script>
    <script type="text/javascript">
        window.changyan.api.config({appid: 'cys5no60I',conf: 'prod_b1c091f2c20426abdaa5aa83a7f0c12c'});
    </script>    
        
    <script src="/static/js/main.min.js" type="text/javascript"></script>
</body>
</html>